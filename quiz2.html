<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Ensino Médio</title>
    <link rel="stylesheet" href="quiz.css">
    <link rel="icon" href="img/logoIcon.png">
    <script src="https://kit.fontawesome.com/65d3d9eac0.js" crossorigin="anonymous"></script>
</head>
<body id="body2">
    <!-- <header id="header">
        <div class="cabecalho">
            <div class="container">
                <div class="imagem">
                    <img src="img/logo2.png" alt="logo">
                </div>
                <p class="nossosQuizes">Nossos Quizes</p>
            </div>
        </div>
    </header> -->
    <!-- <header>
        <div class="comeco">
            <p id="pontuacao">Pontuação: 0</p>         
            <i class="fa-solid fa-award" style="color: #000000;"></i>
        </div>
    </header> -->
    <!DOCTYPE html>
    <html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Quiz Ensino Médio</title>
        <link rel="stylesheet" href="quiz.css">
        <link rel="icon" href="img/lampada.png">
        <script src="https://kit.fontawesome.com/65d3d9eac0.js" crossorigin="anonymous"></script>
    </head>
    <body id="body2">
        <header>
            <div class="comeco">
                <p id="pontuacao"><i class="fa-solid fa-award" style="color: #000000;"></i> Pontuação: 0</p>
              
                <div class="countdown-container">
                    <div id="minutes" class="countdown-item">03:</div>
                    <div class="countdown-separator">:</div>
                    <div id="seconds" class="countdown-item">00</div>
                </div>
               
                <div id="message" class="message"></div>
                <button id="restartButton" class="restart-button">Recomeçar</button>
            </div>
        </header>
    
        <main id="segundoMain">
            <div class="app">
                <h1>Quiz Passatempo Educativo</h1>
                <div class="quiz">
                    <h2 id="questao">Pergunta</h2>
                    <div id="botoesResposta">
                        <button class="btn">Resposta 1</button>
                        <button class="btn">Resposta 2</button>
                        <button class="btn">Resposta 3</button>
                        <button class="btn">Resposta 4</button>
                    </div>
                    <div class="botao2">

                   
                    <button id="next-btn">Próximo</button>
                    <button id="voltar"> <a href="projetos.html">Volte a pagina inicial</a></button> </div>
                </div>
            </div>
        </main>
    
      
    </body>
    </html>
    
    
    <script>

document.addEventListener('DOMContentLoaded', function () {
            var minutesDisplay = document.getElementById('minutes');
            var secondsDisplay = document.getElementById('seconds');
            var messageDisplay = document.getElementById('message');
            var restartButton = document.getElementById('restartButton');

            var totalSeconds = 3 * 60; // 3 minutes
            updateDisplay();

            function updateDisplay() {
                var minutes = Math.floor(totalSeconds / 60);
                var seconds = totalSeconds % 60;

                minutesDisplay.textContent = minutes < 10 ? '0' + minutes : minutes;
                secondsDisplay.textContent = seconds < 10 ? '0' + seconds : seconds;
            }

            function showTimeExpiredMessage() {
                messageDisplay.textContent = 'Tempo Esgotado!';
                restartButton.style.display = 'block';
            }

            var countdownInterval = setInterval(function () {
                if (totalSeconds > 0) {
                    totalSeconds--;
                    updateDisplay();
                } else {
                    clearInterval(countdownInterval);
                    showTimeExpiredMessage();
                }
            }, 1000);

            restartButton.addEventListener('click', function () {
                totalSeconds = 3 * 60;
                messageDisplay.textContent = '';
                restartButton.style.display = 'none';
                countdownInterval = setInterval(function () {
                    if (totalSeconds > 0) {
                        totalSeconds--;
                        updateDisplay();
                    } else {
                        clearInterval(countdownInterval);
                        showTimeExpiredMessage();
                    }
                }, 1000);
            });
        });

const perguntas = [
    {
        pergunta: "Assinale a alternativa que indica a melhor definição de bioma:",
        imagem: "img/quiz-imagem1.png",
        resposta: [
            { text: " A) É uma unidade do espaço geográfico que possui características físicas em comum.", correct: true },
            { text: " B) É uma região formada por espécies de fauna e flora que correm risco de extinção", correct: false },
            { text: " C) É uma área que tem um grande volume de espécies classificadas como endêmicas.", correct: false },
            { text: " D) É um espaço formado por plantas homogêneas que possuem estrutura semelhante.", correct: false },
        ]
    },
    {
        pergunta: "Qual das figuras abaixo é a base de um cone?",
        imagem: "img/quiz-imagem2.png", 
        resposta: [
            { text: "A) Quadrado", correct: false },
            { text: "B) Retângulo", correct: false },
            { text: "C) Circulo", correct: true},
            { text: "D) Triângulo", correct: false},
        ]
    },
    {
        pergunta: "Quantas sílabas tem a palavra fisioterapeuta?",
        imagem: "img/quiz-imagem3.png",
        resposta: [
            { text: "A) somente uma", correct: false },
            { text: "B) duas", correct: false },
            { text: "C) seis", correct: false },
            { text: "D) sete", correct: true},
        ]
    },
    {
        pergunta: "Quantos ossos temos no nosso corpo?",
        imagem: "img/quiz-imagem4.png",
        resposta: [
            { text: "A) 126", correct: false },
            { text: "B) 206", correct: true },
            { text: "C) 18", correct: false },
            { text: "D) 200", correct: false },
        ]
    },
    {
        pergunta: "Qual das seguintes obras é de autoria de Leonardo da Vinci?",
        imagem: "img/quiz-imagem5.png",
        resposta: [
            { text: "A) Mona Lisa", correct: false },
            { text: "B) A Ultima Ceia", correct: false },
            { text: "C) O nascimento de Vênus", correct: false},
            { text: "D) Alternativa a e b", correct: true },
        ]
    },

    {
        pergunta: "Quais são as 7 maravilhas do mundo moderno?",
        imagem: "img/quiz-imagem6.png",
        resposta: [
            { text: "A)  Necrópole de Gizé, Acrópole de Atenas, Angkor Wat, Taj Mahal, Castelo de Neuschwanstein, Estátua da Liberdade, Catedral de São Basílio", correct: false },
            { text: "B) Pirâmides de Gizé, Praça Vermelha, Torre Eiffel, Tombuctu, Sydney Opera House, Stonehenge, Coliseu de Roma.", correct: false },
            { text: "C) Coliseu, Necrópole de Gizé, Grande Muralha da China, Pirâmide de Kukulcán, Machu Picchu, Cristo Redentor, Taj Mahal.", correct: true},
            { text: "D) Acrópole de Atenas, Canal do Panamá, Serengeti, Diques de Marés, Grand Canyon, Galápagos, Monte Everest.", correct: false },
        ]
    },

    {
        pergunta: "Qual das alternativas a seguir apresenta EXCLUSIVAMENTE ondas?",
        imagem: "img/quiz-imagem7.png",
        resposta: [
            { text: "A) Luz, moléculas, átomos", correct: false },
            { text: "B) Som, raios X, moléculas", correct: false },
            { text: "C) Som, luz, raios X", correct: true, },
            { text: "D) Vapor, calor, som", correct: false },
        ]
    },
    {
        pergunta: "Qual é o maior planeta em dimensão do Sistema Solar?",
        imagem: "img/quiz-imagem8.png",
        resposta: [
            { text: "A) Júpiter.", correct: true},
            { text: "B) Urano", correct: false },
            { text: "C) Marte", correct: false, },
            { text: "D) Vapor, calor, som", correct: false },
        ]
    }
];

const elementoPergunta = document.getElementById("questao");
const botoesResposta = document.getElementById("botoesResposta");
const proximoBotao = document.getElementById("next-btn");

let perguntaAtualIndex = 0;
let pontuacao = 0;

function iniciarQuiz(){
    perguntaAtualIndex = 0;
    pontuacao = 0;
    proximoBotao.innerHTML = "Próximo";
    mostrarPergunta();
    const pontuacaoElement = document.getElementById("pontuacao");
    // pontuacaoElement.textContent = "Pontuação: 0";
    // pontuacaoElement.style.display = "block";
    pontuacaoElement.innerHTML = `<i class="fa-solid fa-award" style="color: #000000;"></i> Pontuação: 0`; // Exibir o ícone e a pontuação inicial
    pontuacaoElement.style.display = "block";

}

// function iniciarQuiz(){
//     perguntaAtualIndex = 0;
//     pontuacao = 0;
//     tentativasErradas = 0;
//     proximoBotao.innerHTML = "Próximo";
//     mostrarPergunta();

//     const pontuacaoElement = document.getElementById("pontuacao");
//     pontuacaoElement.textContent = "Pontuação: 0"; // Zerar a pontuação
//     pontuacaoElement.style.display = "block"; // Exibir o elemento de pontuação
// }

const iconClass = {
    "Sócrates": "fa-solid fa-circle",
    "Descartes": "fa-solid fa-square",
    "Aristóteles": "fa-solid fa-diamond",
    "Platão": "fa-solid fa-star",

    "X = 2": "fa-solid fa-circle",
    "X = 10": "fa-solid fa-square",
    "X = 4": "fa-solid fa-diamond",
    "X = 5": "fa-solid fa-star",

    "Inglaterra": "fa-solid fa-circle",
    "França": "fa-solid fa-square",
    "Brasil": "fa-solid fa-diamond",
    "Estados Unidos": "fa-solid fa-star",

    "Célula das plantas": "fa-solid fa-circle",
    "Produto de limpeza": "fa-solid fa-square",
    "Nome científico do cloro": "fa-solid fa-diamond",
    "Pigmento verde das plantas": "fa-solid fa-star",

    "Renato": "fa-solid fa-circle",
    "Fez": "fa-solid fa-square",
    "Fez um gol": "fa-solid fa-diamond",
    "Um gol": "fa-solid fa-star",
};

const styleClass = {
    "Sócrates": "#333333",
    "Descartes": "#333333",
    "Aristóteles": "#333333",
    "Platão": "#333333",

    "X = 2": "red",
    "X = 10": "blue",
    "X = 4": "green",
    "X = 5": "#ff00a6",

    "Inglaterra": "red",
    "França": "blue",
    "Brasil": "green",
    "Estados Unidos": "#ff00a6",

    "Célula das plantas": "red",
    "Produto de limpeza": "blue",
    "Nome científico do cloro": "green",
    "Pigmento verde das plantas": "#ff00a6",

    "Renato": "red",
    "Fez": "blue",
    "Fez um gol": "green",
    "Um gol": "#ff00a6",
};

const colorClass = {
    "Sócrates": "#ff4141",
    "Descartes": "#7d7dff",
    "Aristóteles": "#56ff56",
    "Platão": "#ddda32",

    "X = 2": "#ff4141",
    "X = 10": "#7d7dff",
    "X = 4": "green",
    "X = 5": "yellow",

    "Inglaterra": "#ff4141",
    "França": "#7d7dff",
    "Brasil": "green",
    "Estados Unidos": "yellow",

    "Célula das plantas": "#ff4141",
    "Produto de limpeza": "#7d7dff",
    "Nome científico do cloro": "green",
    "Pigmento verde das plantas": "yellow",

    "Renato": "#ff4141",
    "Fez": "#7d7dff",
    "Fez um gol": "green",
    "Um gol": "yellow",
};



function mostrarPergunta(){
    resetarEstado();

    let perguntaAtual = perguntas[perguntaAtualIndex];
    let perguntaNao = perguntaAtualIndex + 1;
    elementoPergunta.innerHTML = perguntaNao + ". " + perguntaAtual.pergunta; //mostra a primeira pergunta

    const imagemElement = document.createElement("img"); //qaundo mostrar pergunta criar o elemento img
    imagemElement.src = perguntaAtual.imagem; //pega a  imagem correta
    imagemElement.classList.add("imagem-pergunta"); //id na imagem
    elementoPergunta.appendChild(imagemElement); //imagem é "filho" da pergunta

    perguntaAtual.resposta.forEach(resposta => { //criar botao de proximo ao responder
        const button = document.createElement("button");
        // button.innerHTML = resposta.text;
        button.innerHTML = `<i class="${iconClass[resposta.text]}" style="color: ${colorClass[resposta.text]}"></i> ${resposta.text}`;
        button.classList.add("btn");
        botoesResposta.appendChild(button);

        if(resposta.correct){
            button.dataset.correct = resposta.correct //correcao de true ou false
        }
        button.addEventListener("click", selectAnswer);
    })
}


function resetarEstado(){
    proximoBotao.style.display = "none"; //tudo do começo e tira os botoes resposta
    while(botoesResposta.firstChild){
        botoesResposta.removeChild(botoesResposta.firstChild);
    }
}

// function selectAnswer(e){
//     const btnSelecionado = e.target;
//     const correto = btnSelecionado.dataset.correct === "true";
//     if(correto){
//         btnSelecionado.classList.add("correto"); //se tiver certo fica verde
//         pontuacao++;
//     }else{
//         btnSelecionado.classList.add("incorreto"); //se não fica vermelho
//     }
//     Array.from(botoesResposta.children).forEach(button => {
//         if(button.dataset.correct === "true"){
//             button.classList.add("correto"); //verde
//         }
//         button.disabled = true; //cursor fica bloqueado
//     });
//     proximoBotao.style.display = "block"; //aparece o botao de next
// }

let tentativasErradas = 0;


function selectAnswer(e){
    const btnSelecionado = e.target;
    const correto = btnSelecionado.dataset.correct === "true";
    if(correto){
        btnSelecionado.classList.add("correto");//se tiver certo fica verde
        pontuacao += 10;

        const pontuacaoElement = document.getElementById("pontuacao"); //pega o p 
        pontuacaoElement.innerHTML = `<i class="fa-solid fa-award" style="color: #000000;"></i> Pontuação: ${pontuacao}`; // atualiza apenas o texto da pontuação
    } else {
        btnSelecionado.classList.add("incorreto"); //não adiciona a pontuação e fica vermelho
    }
    Array.from(botoesResposta.children).forEach(button => {
        if(button.dataset.correct === "true"){
            button.classList.add("correto"); //verde
        }
        button.disabled = true;
    });

    if (!correto) {
        tentativasErradas++;
    
        if (tentativasErradas === 1) {
            const confirmacao = alert("Resposta incorreta. Você tem só mais uma chance. Pressione OK para continuar.");
            if (confirmacao) {
                return; // Permite avançar para a próxima pergunta
            }
        } else if (tentativasErradas === 2) {
            alert("Acabou suas chances. O quiz será reiniciado.");
            resetarQuiz(); // Reinicia o quiz
            return;
        }
    }
    
    proximoBotao.style.display = "block"; //aparece o botao de next
}




// function resetarQuiz() {
//     perguntaAtualIndex = 0;
//     pontuacao = 0;
//     tentativasErradas = 0;
//     proximoBotao.innerHTML = "Próximo";
//     mostrarPergunta();
// }

function resetarQuiz() {
    perguntaAtualIndex = 0;
    pontuacao = 0;
    tentativasErradas = 0;
    proximoBotao.innerHTML = "Próximo";
    mostrarPergunta();

    const pontuacaoElement = document.getElementById("pontuacao");
    pontuacaoElement.innerHTML = `<i class="fa-solid fa-award" style="color: #000000;"></i> Pontuação: 0`; // Exibir o ícone e a pontuação inicial
    pontuacaoElement.style.display = "block";
}




function mostrarPontuacao(){ //final
    resetarEstado();
    elementoPergunta.innerHTML = `Você fez ${pontuacao} pontos!`;
    proximoBotao.innerHTML = "Jogue novamente";
    proximoBotao.style.display = "block";

    var voltar = document.querySelector('#voltar');
    voltar.style.display = "block";

    const pontuacaoElement = document.getElementById("pontuacao");

    pontuacaoElement.style.display = "none";
}

function handleNextButton(){ //se acabar as perguntas mostra a pontuação
    perguntaAtualIndex++;
    if(perguntaAtualIndex < perguntas.length){
        mostrarPergunta();
    }else{
        mostrarPontuacao();
    }
}

proximoBotao.addEventListener("click", ()=>{
    if(perguntaAtualIndex < perguntas.length){
        handleNextButton(); // perguntas se não tiver ido todas
    }else{
        iniciarQuiz() //se não, se clicar no botão, reinicia o quiz
    }
})

iniciarQuiz();


    </script>
</body>


</html>